@startuml
actor 顾客
participant "自动贩卖机" as 自动贩卖机
participant "支付系统" as 支付系统
participant "库存系统" as 库存系统

顾客 -> 自动贩卖机: 选择饮料类型
自动贩卖机 -> 库存系统: 检查库存
库存系统 --> 自动贩卖机: 库存正常
自动贩卖机 -> 支付系统: 获取饮料价格
支付系统 --> 自动贩卖机: 返回价格
自动贩卖机 --> 顾客: 显示需投金额
顾客 -> 支付系统: 投入钱币
支付系统 -> 支付系统: 验证金额是否足够
alt 金额不足
支付系统 --> 自动贩卖机: 金额不足通知
自动贩卖机 -> 顾客: 显示"金额不足"
支付系统 -> 顾客: 退还钱币
end
@enduml